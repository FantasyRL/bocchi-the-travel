import{_ as g,c as v,b as a,a as i,t as n,d as f,v as b,w as r,F as k,f as u,g as h,r as p,o as w,j as l,p as y,k as x}from"./index-BwwmACn5.js";import{E as C}from"./el-button-DW7Zgeaf.js";import"./index-CT41R4hy.js";const d=t=>(y("data-v-0677d3c3"),t=t(),x(),t),B={class:"about"},I={id:"about"},S={class:"user_img"},V=["src"],$={class:"user_name"},j={id:"name"},E=d(()=>a("text",null,"个人签名",-1)),N=d(()=>a("div",{class:"signature"},null,-1)),F={class:"follow"},A=d(()=>a("br",null,null,-1)),D={data(){return{userid:"",setname:"设置",setcount:3,setshow:0,id:1,name:"未登录",avatar:"//xiey.work/ava.png",mail:"",signature:"这个人很懒，什么都没写。",access_token:"",refresh_token:"",avatarFile:null,url:"",showavatarpage:0,previewImage:null,file:null}},methods:{follow(t){u.post(this.url+"/bocchi/trust/action?object_uid="+this.id+"&action_type="+t,{},{headers:{"access-token":this.access_token}}).then(e=>{console.log(e.data.base.code),alert(e.data.base.msg)})},init(){u.get(this.url+"/bocchi/user/info?user_id="+this.id,{headers:{"access-token":this.access_token}}).then(t=>{console.log(t),t.data.base.code=="10000"&&(console.log("获取信息成功"),this.name=t.data.user.name,this.avatar=t.data.user.avatar,this.mail=t.data.user.email,this.signature=t.data.user.signature),t.data.base.code=="10007"&&(console.log("不存在"),this.name="该用户不存在"),console.log(this.avatar),this.avatar===""&&(this.avatar="//xiey.work/ava.png"),this.signature===""&&(this.signature="这个人很懒，什么都没写。")}).catch(t=>{console.error(t)})}},mounted(){this.id=Number(this.$route.params.id),this.access_token=h.get("access_token"),this.refresh_token=h.get("refresh_token"),this.init()},components:{},computed:{},watch:{},props:{},emits:{},setup(){}},T=Object.assign(D,{__name:"AboutView",setup(t){return(e,s)=>{const m=p("a-page-header"),c=C,_=p("a-divider");return w(),v(k,null,[a("div",B,[i(m,{style:{border:"1px solid rgb(235, 237, 240)","background-color":"#fff"},title:"Ta的资料","sub-title":"",onBack:s[0]||(s[0]=()=>e.$router.go(-1))}),a("div",I,[a("div",S,[a("img",{src:e.avatar,class:"touxiangimg rounded-image",onClick:s[1]||(s[1]=(...o)=>e.modavatarpage&&e.modavatarpage(...o)),style:{"object-fit":"cover",width:"50vw",height:"50vw","max-width":"300px","max-height":"300px"}},null,8,V)]),a("div",$,[a("text",j,n(e.name),1)]),E,N,f(a("div",{class:"sign-flur",onClick:s[2]||(s[2]=o=>e.savesignature(this.signature))},null,512),[[b,e.isEditing]]),a("text",null,"uid:"+n(e.id),1),a("text",null,"邮箱:"+n(e.mail),1),a("div",F,[i(c,{type:"primary",onClick:s[3]||(s[3]=o=>e.follow(1))},{default:r(()=>[l("关注")]),_:1}),i(c,{type:"danger",onClick:s[4]||(s[4]=o=>e.follow(0))},{default:r(()=>[l("取消关注")]),_:1})])]),i(_,{orientation:"left",class:"separate"},{default:r(()=>[l("评价")]),_:1})]),A],64)}}}),G=g(T,[["__scopeId","data-v-0677d3c3"]]);export{G as default};
