import{G as _,U as w,a0 as E,D as $,W as y,Q as B,J as N,o as r,c as m,b as c,X as u,u as a,a5 as S,A as g,w as l,Y as O,h as p,t as i,$ as P,a3 as z,a4 as V,q as v,a as n,F as j,f as b,g as D,a6 as q,r as k,j as d}from"./index-B9aJKg17.js";/* empty css                                                  */import{C as F,H,P as Q,E as A}from"./PlayCircleOutlined-DbzDSt9z.js";import{i as G,E as J}from"./index-C0GaG9-C.js";const K=_({name:"ElTimeline",setup(o,{slots:e}){const t=w("timeline");return E("timeline",e),()=>$("ul",{class:[t.b()]},[y(e,"default")])}}),U=B({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:G},hollow:{type:Boolean,default:!1}}),W=_({name:"ElTimelineItem"}),X=_({...W,props:U,setup(o){const e=o,t=w("timeline-item"),f=N(()=>[t.e("node"),t.em("node",e.size||""),t.em("node",e.type||""),t.is("hollow",e.hollow)]);return(s,h)=>(r(),m("li",{class:u([a(t).b(),{[a(t).e("center")]:s.center}])},[c("div",{class:u(a(t).e("tail"))},null,2),s.$slots.dot?p("v-if",!0):(r(),m("div",{key:0,class:u(a(f)),style:S({backgroundColor:s.color})},[s.icon?(r(),g(a(J),{key:0,class:u(a(t).e("icon"))},{default:l(()=>[(r(),g(O(s.icon)))]),_:1},8,["class"])):p("v-if",!0)],6)),s.$slots.dot?(r(),m("div",{key:1,class:u(a(t).e("dot"))},[y(s.$slots,"dot")],2)):p("v-if",!0),c("div",{class:u(a(t).e("wrapper"))},[!s.hideTimestamp&&s.placement==="top"?(r(),m("div",{key:0,class:u([a(t).e("timestamp"),a(t).is("top")])},i(s.timestamp),3)):p("v-if",!0),c("div",{class:u(a(t).e("content"))},[y(s.$slots,"default")],2),!s.hideTimestamp&&s.placement==="bottom"?(r(),m("div",{key:1,class:u([a(t).e("timestamp"),a(t).is("bottom")])},i(s.timestamp),3)):p("v-if",!0)],2)],2))}});var T=P(X,[["__file","timeline-item.vue"]]);const Y=z(K,{TimelineItem:T}),L=V(T),M={class:"travels"},R=c("br",null,null,-1),Z={key:0,class:"itinerary"},x=c("span",{class:"shadow"},null,-1),ee=c("span",{class:"edge"},null,-1),te=c("span",{class:"front text"}," 删除计划 ",-1),se=[x,ee,te],ae={key:1},ne={props:{},data(){return{id:1,party:{start_time:"2006-01-02",end_time:"2006-01-03"},info:{},partynull:!1}},methods:{deleteItinerary(){const o="/bocchi/party/itinerary/delete?itinerary_id="+this.id;b.get(o,{headers:{"access-token":this.access_token}}).then(e=>{console.log(e)}).catch(e=>{console.error(e)})},init(){const o="/bocchi/party/itinerary/info?itinerary_id="+this.id,e={};b.get(o,e).then(t=>{console.log(t),this.partynull=!0,this.info=t.data.itinerary,t.data.base.code==10007&&(this.partynull=0,console.log(this.partynull))}).catch(t=>{console.error(t)})}},mounted(){this.id=Number(this.$route.params.id),this.init(),this.access_token=D.get("access_token")},computed:{getIcon(){return o=>{switch(o){case 1:return A;case 2:return Q;case 3:return H;case 4:return F;case 5:return q}}},getType(){return o=>{switch(o){case 1:return"路线";case 2:return"活动";case 3:return"住宿";case 4:return"餐饮";case 5:return"其他";default:return"未知类型"}}}}},ue=Object.assign(ne,{__name:"itinerary",setup(o){return v(!1),v(!1),(e,t)=>{const f=k("a-page-header"),s=L,h=Y,C=k("a-empty");return r(),m(j,null,[c("div",M,[n(f,{style:{border:"1px solid rgb(235, 237, 240)"},title:"计划详情",onBack:t[0]||(t[0]=()=>e.$router.go(-1))})]),R,e.partynull?(r(),m("div",Z,[n(h,{style:{"max-width":"600px","margin-left":"10%"}},{default:l(()=>[n(s,null,{default:l(()=>[d("计划名:"+i(e.info.title),1)]),_:1}),n(s,null,{default:l(()=>[d("序列:"+i(e.info.sequence),1)]),_:1}),n(s,null,{default:l(()=>[d(" 创建者:"+i(e.info.founder_id),1)]),_:1}),n(s,null,{default:l(()=>[d(" 类型："+i(e.getType(e.info.action_type)),1)]),_:1}),n(s,null,{default:l(()=>[d(" 备注："+i(e.info.remark),1)]),_:1}),n(s,null,{default:l(()=>[d(" 地点："+i(e.info.rectangle),1)]),_:1}),n(s,null,{default:l(()=>[d(" 路线："+i(e.info.route_json),1)]),_:1}),n(s,null,{default:l(()=>[d(" 开始时间："+i(e.info.schedule_start_time),1)]),_:1}),n(s,null,{default:l(()=>[d(" 结束时间: "+i(e.info.schedule_end_time),1)]),_:1})]),_:1}),c("button",{onClick:t[1]||(t[1]=(...I)=>e.deleteItinerary&&e.deleteItinerary(...I))},se)])):p("",!0),e.partynull?p("",!0):(r(),m("div",ae,[n(C)]))],64)}}});export{ue as default};
