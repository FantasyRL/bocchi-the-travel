import{_ as g,r as c,o as f,c as v,a as i,b as t,t as n,w as l,T as w,F as b,d,e as m,f as k,v as I,g as u,p as x,h as y}from"./index-ivUi7AXl.js";const _=s=>(x("data-v-56bff88b"),s=s(),y(),s),B=_(()=>t("link",{href:"//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css",rel:"stylesheet"},null,-1)),S={class:"settings"},V=_(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",viewBox:"0 0 20 20",height:"20",fill:"none",class:"svg-icon"},[t("g",{"stroke-width":"1.5","stroke-linecap":"round",stroke:"#5d41de"},[t("circle",{r:"2.5",cy:"10",cx:"10"}),t("path",{"fill-rule":"evenodd",d:"m8.39079 2.80235c.53842-1.51424 2.67991-1.51424 3.21831-.00001.3392.95358 1.4284 1.40477 2.3425.97027 1.4514-.68995 2.9657.82427 2.2758 2.27575-.4345.91407.0166 2.00334.9702 2.34248 1.5143.53842 1.5143 2.67996 0 3.21836-.9536.3391-1.4047 1.4284-.9702 2.3425.6899 1.4514-.8244 2.9656-2.2758 2.2757-.9141-.4345-2.0033.0167-2.3425.9703-.5384 1.5142-2.67989 1.5142-3.21831 0-.33914-.9536-1.4284-1.4048-2.34247-.9703-1.45148.6899-2.96571-.8243-2.27575-2.2757.43449-.9141-.01669-2.0034-.97028-2.3425-1.51422-.5384-1.51422-2.67994.00001-3.21836.95358-.33914 1.40476-1.42841.97027-2.34248-.68996-1.45148.82427-2.9657 2.27575-2.27575.91407.4345 2.00333-.01669 2.34247-.97026z","clip-rule":"evenodd"})])],-1)),j={class:"lable"},C={class:"info"},D={class:"touxiang"},A={class:"testdiv6"},F=["src"],N={class:"name"},T={class:"shejiao"},$={class:"set"},z={data(){return{setname:"设置",setcount:3,setshow:!1,id:1,name:"用户名",avatar:"//xiey.work/640.jpg",mail:"",signature:"这个人很懒，什么都没写。",access_token:""}},methods:{settings(){this.setshow=!this.setshow,this.setcount++},PutAvatar(){this.access_token=d.get("access_token");const s=this.$refs.fileInput.files[0],e=new FormData;e.append("avatar_file",s);const o={access_token:this.access_token};m.put("http://127.0.0.1:10001/bocchi/user/avatar/upload",e,{headers:o}).then(a=>{console.log(a.data)}).catch(a=>{console.error(a)})},logout(){d.remove("id"),d.remove("access_token"),window.location.href="/"},init(){m.get("http://127.0.0.1:10001/bocchi/user/info?user_id="+this.id).then(s=>{console.log(s),this.name=s.data.user.name,this.avatar=s.data.user.avatar,this.mail=s.data.user.email,this.signature=s.data.user.signature,console.log(this.avatar),this.avatar===""&&(this.avatar="//xiey.work/640.jpg"),this.signature===""&&(this.signature="这个人很懒，什么都没写。")}).catch(s=>{console.error(s)})}},mounted(){this.id=d.get("id"),this.id&&this.init()},components:{},computed:{},watch:{setcount(s,e){console.log("变化前的值：",e,"变化后的值：",s),s%2==1&&(this.setname="设置"),s%2!=1&&(this.setname="关闭")}},props:{},emits:{},setup(){}},E=Object.assign(z,{__name:"AboutView",setup(s){return(e,o)=>{const a=c("a-page-header"),h=c("mdui-menu-item"),p=c("mdui-menu");return f(),v(b,null,[B,i(a,{style:{border:"1px solid rgb(235, 237, 240)"},title:"个人界面","sub-title":"副标题",onBack:o[0]||(o[0]=()=>e.$router.go(-1))}),t("div",S,[t("button",{class:"button",onClick:o[1]||(o[1]=(...r)=>e.settings&&e.settings(...r))},[V,t("span",j,n(e.setname),1)])]),t("div",C,[t("div",D,[t("div",A,[t("img",{src:e.avatar,class:"touxiangimg rounded-image"},null,8,F),t("div",null,[t("text",N,n(e.name),1)])])]),t("div",T,[t("text",null,"uid:"+n(e.id),1),t("text",null,"邮箱:"+n(e.mail),1),t("text",null,"签名:"+n(e.signature),1)])]),i(w,{name:"fade"},{default:l(()=>[k(t("div",$,[u(" 设置界面 "),i(p,null,{default:l(()=>[i(h,null,{default:l(()=>[u("Item 1")]),_:1}),i(h,null,{default:l(()=>[u("Item 2")]),_:1})]),_:1}),t("button",{onClick:o[2]||(o[2]=(...r)=>e.logout&&e.logout(...r))},"退出登陆")],512),[[I,e.setshow]])]),_:1})],64)}}}),P=g(E,[["__scopeId","data-v-56bff88b"]]);export{P as default};
