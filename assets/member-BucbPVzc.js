import{_ as w,c as n,b as o,a as c,F as p,z as y,f as d,g as v,r as l,o as i,A as b,w as r,h as g,p as x,k as C}from"./index-xY9_7Kyo.js";const k=s=>(x("data-v-88028625"),s=s(),C(),s),$={class:"travels"},B={class:"main"},j={class:"member"},I=k(()=>o("div",{style:{"text-align":"center","margin-bottom":"5vw"}},"团队成员",-1)),N={class:"applylist"},S=k(()=>o("div",{style:{"text-align":"center","margin-bottom":"5vw"}},"申请列表:",-1)),V=["onClick"],F={data(){return{id:this.$route.params.id,members:{},applylist:{}}},methods:{applyuser(s){d.get("https://api.xiey.work/bocchi/party/apply/permit?party_id="+this.id+"&member_id="+s,{headers:{"access-token":v.get("access_token")}}).then(e=>{console.log(e.data)}).catch(e=>{console.log(e)})},get_party_members(s,e){d.get("https://api.xiey.work/bocchi/party/members?party_id="+s+"&page_num="+e,{headers:{}}).then(a=>{console.log(a),this.members=a.data.member_list}).catch(a=>{console.log(a)})},apply_list(s,e){d.get("https://api.xiey.work/bocchi/party/apply/list?party_id="+s+"&page_num="+e,{headers:{"access-token":v.get("access_token")}}).then(a=>{console.log(a.data),this.applylist=a.data.applicant_list}).catch(a=>{console.log(a)})}},mounted(){this.get_party_members(this.id,1),this.apply_list(this.id,1)}},z=Object.assign(F,{__name:"member",setup(s){return(e,a)=>{const f=l("a-page-header"),_=l("a-avatar"),m=l("a-card-meta"),h=l("a-card");return i(),n(p,null,[o("div",$,[c(f,{style:{border:"1px solid rgb(235, 237, 240)"},title:"活动成员",onBack:a[0]||(a[0]=()=>e.$router.go(-1))})]),o("div",B,[o("div",j,[I,(i(!0),n(p,null,y(e.members,t=>(i(),n("div",{key:t,style:{display:"grid","justify-content":"center"}},[t.id?(i(),b(h,{key:0,hoverable:"",style:{width:"300px","justify-content":"center"}},{actions:r(()=>[]),default:r(()=>[c(m,{title:t.name,description:t.signature,onClick:u=>this.$router.push(`/about/${t.id}`)},{avatar:r(()=>[c(_,{src:t.avatar},null,8,["src"])]),_:2},1032,["title","description","onClick"])]),_:2},1024)):g("",!0)]))),128))]),o("div",N,[S,(i(!0),n(p,null,y(e.applylist,t=>(i(),n("div",{key:t,style:{display:"grid","justify-content":"center"}},[t.id?(i(),b(h,{key:0,hoverable:"",style:{width:"300px"}},{actions:r(()=>[o("div",{onClick:u=>e.applyuser(t.id)},"同意加入",8,V)]),default:r(()=>[c(m,{title:t.name,description:t.signature,onClick:u=>this.$router.push(`/about/${t.id}`)},{avatar:r(()=>[c(_,{src:t.avatar},null,8,["src"])]),_:2},1032,["title","description","onClick"])]),_:2},1024)):g("",!0)]))),128))])])],64)}}}),E=w(z,[["__scopeId","data-v-88028625"]]);export{E as default};
