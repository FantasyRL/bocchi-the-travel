import{d as S,b as w,u as g,_ as T,w as $,a as P}from"./itinerary.vue_vue_type_style_index_0_lang-CDLS3ijw.js";import{G as I,H as _,J as C,o as l,c as d,K as h,L as z,u as o,M as j,D as V,b as m,N as u,O as D,A as b,w as a,Q as F,h as p,t as r,q as v,a as i,F as H,f as k,g as q,S as A,r as N,j as c}from"./index-BYwudk7q.js";import{C as K,H as Q,P as U,E as G}from"./PlayCircleOutlined-B-mHIVwS.js";const J=n=>n===void 0,L=n=>typeof n=="number",M=n=>I(n)?!Number.isNaN(Number(n)):!1;function R(n,e="px"){if(!n)return"";if(L(n)||M(n))return`${n}${e}`;if(I(n))return n}const W=S([String,Object,Function]),X=w({size:{type:S([Number,String])},color:{type:String}}),Y=_({name:"ElIcon",inheritAttrs:!1}),Z=_({...Y,props:X,setup(n){const e=n,s=g("icon"),y=C(()=>{const{size:t,color:f}=e;return!t&&!f?{}:{fontSize:J(t)?void 0:R(t),"--color":f}});return(t,f)=>(l(),d("i",z({class:o(s).b(),style:o(y)},t.$attrs),[h(t.$slots,"default")],16))}});var x=T(Z,[["__file","icon.vue"]]);const ee=$(x),te=_({name:"ElTimeline",setup(n,{slots:e}){const s=g("timeline");return j("timeline",e),()=>V("ul",{class:[s.b()]},[h(e,"default")])}}),se=w({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:W},hollow:{type:Boolean,default:!1}}),ne=_({name:"ElTimelineItem"}),oe=_({...ne,props:se,setup(n){const e=n,s=g("timeline-item"),y=C(()=>[s.e("node"),s.em("node",e.size||""),s.em("node",e.type||""),s.is("hollow",e.hollow)]);return(t,f)=>(l(),d("li",{class:u([o(s).b(),{[o(s).e("center")]:t.center}])},[m("div",{class:u(o(s).e("tail"))},null,2),t.$slots.dot?p("v-if",!0):(l(),d("div",{key:0,class:u(o(y)),style:D({backgroundColor:t.color})},[t.icon?(l(),b(o(ee),{key:0,class:u(o(s).e("icon"))},{default:a(()=>[(l(),b(F(t.icon)))]),_:1},8,["class"])):p("v-if",!0)],6)),t.$slots.dot?(l(),d("div",{key:1,class:u(o(s).e("dot"))},[h(t.$slots,"dot")],2)):p("v-if",!0),m("div",{class:u(o(s).e("wrapper"))},[!t.hideTimestamp&&t.placement==="top"?(l(),d("div",{key:0,class:u([o(s).e("timestamp"),o(s).is("top")])},r(t.timestamp),3)):p("v-if",!0),m("div",{class:u(o(s).e("content"))},[h(t.$slots,"default")],2),!t.hideTimestamp&&t.placement==="bottom"?(l(),d("div",{key:1,class:u([o(s).e("timestamp"),o(s).is("bottom")])},r(t.timestamp),3)):p("v-if",!0)],2)],2))}});var E=T(oe,[["__file","timeline-item.vue"]]);const ie=$(te,{TimelineItem:E}),ae=P(E),re={class:"travels"},le=m("br",null,null,-1),ue={key:0,class:"itinerary"},ce=m("span",{class:"shadow"},null,-1),de=m("span",{class:"edge"},null,-1),me=m("span",{class:"front text"}," 删除计划 ",-1),pe=[ce,de,me],fe={key:1},ye={props:{},data(){return{id:1,party:{start_time:"2006-01-02",end_time:"2006-01-03"},info:{},partynull:!1}},methods:{deleteItinerary(){const n="/bocchi/party/itinerary/delete?itinerary_id="+this.id;k.get(n,{headers:{"access-token":this.access_token}}).then(e=>{console.log(e)}).catch(e=>{console.error(e)})},init(){const n="/bocchi/party/itinerary/info?itinerary_id="+this.id,e={};k.get(n,e).then(s=>{console.log(s),this.partynull=!0,this.info=s.data.itinerary,s.data.base.code==10007&&(this.partynull=0,console.log(this.partynull))}).catch(s=>{console.error(s)})}},mounted(){this.id=Number(this.$route.params.id),this.init(),this.access_token=q.get("access_token")},computed:{getIcon(){return n=>{switch(n){case 1:return G;case 2:return U;case 3:return Q;case 4:return K;case 5:return A}}},getType(){return n=>{switch(n){case 1:return"路线";case 2:return"活动";case 3:return"住宿";case 4:return"餐饮";case 5:return"其他";default:return"未知类型"}}}}},be=Object.assign(ye,{__name:"itinerary",setup(n){return v(!1),v(!1),(e,s)=>{const y=N("a-page-header"),t=ae,f=ie,B=N("a-empty");return l(),d(H,null,[m("div",re,[i(y,{style:{border:"1px solid rgb(235, 237, 240)"},title:"计划详情",onBack:s[0]||(s[0]=()=>e.$router.go(-1))})]),le,e.partynull?(l(),d("div",ue,[i(f,{style:{"max-width":"600px","margin-left":"10%"}},{default:a(()=>[i(t,null,{default:a(()=>[c("计划名:"+r(e.info.title),1)]),_:1}),i(t,null,{default:a(()=>[c("序列:"+r(e.info.sequence),1)]),_:1}),i(t,null,{default:a(()=>[c(" 创建者:"+r(e.info.founder_id),1)]),_:1}),i(t,null,{default:a(()=>[c(" 类型："+r(e.getType(e.info.action_type)),1)]),_:1}),i(t,null,{default:a(()=>[c(" 备注："+r(e.info.remark),1)]),_:1}),i(t,null,{default:a(()=>[c(" 地点："+r(e.info.rectangle),1)]),_:1}),i(t,null,{default:a(()=>[c(" 路线："+r(e.info.route_json),1)]),_:1}),i(t,null,{default:a(()=>[c(" 开始时间："+r(e.info.schedule_start_time),1)]),_:1}),i(t,null,{default:a(()=>[c(" 结束时间: "+r(e.info.schedule_end_time),1)]),_:1})]),_:1}),m("button",{onClick:s[1]||(s[1]=(...O)=>e.deleteItinerary&&e.deleteItinerary(...O))},pe)])):p("",!0),e.partynull?p("",!0):(l(),d("div",fe,[i(B)]))],64)}}});export{be as default};
