import{b as C,d as w,u as S,_ as $,w as O}from"./itinerary.vue_vue_type_style_index_0_lang-CDLS3ijw.js";import{H as b,o,c as l,N as d,u as i,K as u,h as c,b as e,O as N,j as p,t as a,q as y,a as _,F as f,m as E,f as m,g as I,S as P,r as v,w as j}from"./index-BYwudk7q.js";import{C as B,H as V,P as H,E as T}from"./PlayCircleOutlined-B-mHIVwS.js";const z=C({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:w([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),D=b({name:"ElCard"}),F=b({...D,props:z,setup(s){const n=S("card");return(t,h)=>(o(),l("div",{class:d([i(n).b(),i(n).is(`${t.shadow}-shadow`)])},[t.$slots.header||t.header?(o(),l("div",{key:0,class:d(i(n).e("header"))},[u(t.$slots,"header",{},()=>[p(a(t.header),1)])],2)):c("v-if",!0),e("div",{class:d([i(n).e("body"),t.bodyClass]),style:N(t.bodyStyle)},[u(t.$slots,"default")],6),t.$slots.footer||t.footer?(o(),l("div",{key:1,class:d(i(n).e("footer"))},[u(t.$slots,"footer",{},()=>[p(a(t.footer),1)])],2)):c("v-if",!0)],2))}});var q=$(F,[["__file","card.vue"]]);const A=O(q),K={class:"travels"},L=e("br",null,null,-1),Q={class:"itinerary"},G={class:"item-info"},J=["onClick"],M=e("span",{class:"shadow"},null,-1),R=e("span",{class:"edge"},null,-1),U=e("span",{class:"front text"}," 删除计划 ",-1),W=[M,R,U],X=e("br",null,null,-1),Y={key:0,class:"itinerary"},Z={key:1},x=e("br",null,null,-1),ee=e("br",null,null,-1),te=e("br",null,null,-1),se=e("br",null,null,-1),ne=e("br",null,null,-1),re=e("br",null,null,-1),ae=e("br",null,null,-1),oe={props:{},data(){return{id:1,party:{start_time:"2006-01-02",end_time:"2006-01-03"},info:{},partynull:!1}},methods:{deleteItinerary(s){const n="/bocchi/party/itinerary/delete?itinerary_id="+s;m.get(n,{headers:{"access-token":this.access_token}}).then(t=>{console.log(t),location.reload()}).catch(t=>{console.error(t)})},init(){m.get("/bocchi/party/itinerary/my?party_id="+this.id,{headers:{"access-token":this.access_token}}).then(s=>{console.log(s),this.partynull=!0,this.info=s.data.itinerary_list,s.data.base.code==1e4&&(this.partynull=1,console.log(this.partynull))}).catch(s=>{console.error(s)})}},mounted(){this.id=Number(this.$route.params.id),this.access_token=I.get("access_token"),this.init()},computed:{getIcon(){return s=>{switch(s){case 1:return T;case 2:return H;case 3:return V;case 4:return B;case 5:return P}}},getType(){return s=>{switch(s){case 1:return"路线";case 2:return"活动";case 3:return"住宿";case 4:return"餐饮";case 5:return"其他";default:return"未知类型"}}}}},ue=Object.assign(oe,{__name:"myitinerary",setup(s){return y(!1),y(!1),(n,t)=>{const h=v("a-page-header"),g=A,k=v("a-empty");return o(),l(f,null,[e("div",K,[_(h,{style:{border:"1px solid rgb(235, 237, 240)"},title:"我的计划 ",onBack:t[0]||(t[0]=()=>n.$router.go(-1))})]),L,e("div",Q,[(o(!0),l(f,null,E(n.info,r=>(o(),l("div",{key:r.id,class:"item"},[_(g,{style:{width:"90vw"}},{default:j(()=>[e("div",G,[e("div",null,"ID:"+a(r.id),1),e("div",null,"标题:"+a(r.title),1),e("div",null,"是否通过审核:"+a(r.is_merged),1),e("div",null,"备注:"+a(r.remark),1),e("div",null,"路线:"+a(r.route_json),1),e("div",null,"地址:"+a(r.rectangle),1),e("div",null,"开始时间:"+a(r.schedule_start_time),1),e("div",null,"结束时间:"+a(r.schedule_end_time),1),e("button",{onClick:le=>n.deleteItinerary(r.id)},W,8,J)])]),_:2},1024),X]))),128))]),n.partynull?(o(),l("div",Y)):c("",!0),n.partynull?c("",!0):(o(),l("div",Z,[_(k)])),x,ee,te,se,ne,re,ae],64)}}});export{ue as default};
